# Extremely Resilient Navigation

<img width="967" alt="overview (2)" src="https://github.com/CJStromberger/SURF_2021/assets/11271872/78c2cea9-57ba-477d-98e2-4dcf02ed05df">

## Abstract

Due to the increasing complexity of space missions and distance to exploration targets, future robotic systems used for space exploration call for more resilience and autonomy. Instead of minimizing the failure risk, we are focusing on missions that will inevitably encounter significant failures and are developing an algorithm that will autonomously reconfigure the system controller to continue to make progress towards the mission goal despite being in a reduced capacity state - we call this extreme resilience.
In this paper, we develop a model-free framework to autonomously react to locomotion failures of robotic systems. This is done by the use of a neural network for path planning using the neuroevolution of augmenting topologies (NEAT) algorithm and a dynamic database of possible moves and their effect on the system's position and orientation. Two modes of failure detection and resolution are being introduced: (a) relative position failure detection, which is triggered by large, unexpected moves and results in a complete update of the database before a retraining of the neural network, and (b) absolute position failure detection, which triggers from large build-ups of position error from small failures and will induce a retraining of the neural network without an explicit database reset.
We implement and validate this framework on a high-fidelity planetary rover simulation using Unreal Engine and on a hardware setup of a TurtleBot2 with a PhantomX Pincher robot arm.

## To See More

Visit [https://cjs3.cc/ERN.html](https://cjs3.cc/ERN.html) to read the paper and watch the (3 min) video resulting from this work.

## NEAT Files

The bulk of the code is in the /NEAT folder. This is a quick explination of what everything does.

- ``neat_dual_wheel_failure.py`` will print out each generation's number, its fitness, and its ending distance from the flag (goal turtlebot aims to reach). On the first (and only) successful generation, it will also print out the generation's path taken to reach the goal, and then it will plot this on a graph. The graph's blue square represents the turtlebot's starting position and the green triangle represents the flag.
- ``config-feedforward`` is a text file outlining the parameters of the NEAT algorithm. The biggest thing that I have adjusted is ``fitness_threashold`` and ``pop_size``. To better fine tune the algoirthm, visit [https://readthedocs.org/projects/neat-python/downloads/pdf/latest/](https://readthedocs.org/projects/neat-python/downloads/pdf/latest/) for NEAT documentation.
- ``field.py`` is a field class which holds the (x,y) position of the turtlebot, its orientation in radians, and the (x,y) position of the flag.
- ``constants.py`` holds the change in movement from each type of motion in a dual wheel failure (push, pivot CW, pivot CCW). Mostly averaged values taken from 5 OptiTrack runs, with some human manipulation to make more accurate.
- ``findposchange.py`` is the file used to get data for ``constants.py``, reads the first line of a text file holding optitrack data, in form of ``position.x position.y position.z ; orientation.x orientation.y orientation.z orientation.w`` (where everything has a single space in between it, including the semicolon. It prints out changes in x and y position as well as radians changed. Note that this file translates the optitrack ground coordinates to the coordinates used in the rest of the project. That is, a z coordinate on the optitrack is an x coordinate for the rest of the project and an x coordinate on optitrack is a y coordinate for the rest of the project.
- ``trackpathturtlebot.py`` this file does the same thing as ``findposchange.py`` except it reads every 50th line of the optitrack data file (reading every line takes too long) and plots it on a graph.
- ``movementarraytograph.py`` takes a movement array (one with strings ``'push'``, ``'pivot CW'``, or ``'pivotCCW'``) and plots it. Useful for getting specific path plots after they have been generated by a NEAT algorithm. 
- ``visualize.py`` provides a way to visualize the neural network created by the NEAT algorithm.
